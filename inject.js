!function(){window.recipe={},window.recipe.Recipe=function(e){this.start=function(){},this.stop=function(){},this.steps=e,this.wait=20};var e=function(e,t){var i=document.getElementsByTagName(e);return i[t]};window.recipe.RecipePlayer=function(t){var i=0,c=0,n=function(i,r){if(r!=i.length)var a=setInterval(function(){var o=i[r];if("recipe"===o.type){clearInterval(a),c=0;var l=window.recipe[o.recipeId];"function"==typeof l.start&&l.start.call(l,o.params),i.splice.apply(i,[r,1].concat(l.steps)),n(i,r)}else{var p=o.selector?$(o.selector):$(e(o.tagName,o.index));if(p.length>0)s(p,o.action,o.value),clearInterval(a),c=0,n(i,++r);else{console.log("Looking for "+o.selector+"  "+o.tagName+"   "+o.index),c++;var d=i.wait||t.wait;c>d&&(c=0,r--)}}},500)},s=function(e,t,i){if("function"==typeof t)t.call(e);else switch(t){case"click":e.click();break;case"redactor":e.redactor("set",i);break;default:e.click()}};"function"==typeof t.start&&t.start.call(t),n(t.steps.slice(),i),"function"==typeof t.stop&&t.stop.call(t)}}(),function(){var e=[{selector:"#question-raw-content",action:"redactor"},{selector:".true-false-answer-select:eq(0)",action:"click"},{selector:"#saveQuestionDetails1",action:"click"}],t=window.recipe.FillTrueFalseRecipe=new window.recipe.Recipe(e);t.start=function(e){this.steps[0].value=e&&e.questionTitle||"Filling T/F";var t=Math.round(Math.random());this.steps[1].selector=".true-false-answer-select:eq("+t+")"}}(),function(){var e=[{type:"recipe",recipeId:"CreateAssessmentRecipe"},{selector:"span.lsm-create-btn:first"},{selector:"#qtn-passage-type",wait:100},{selector:"#passage_title",action:"redactor",value:"something random"},{selector:".tab-title-text",action:function(){$(this).html("title...")}},{selector:"#question-edit-passage-text",action:function(){$(this).redactor("set","something random")}},{selector:"#saveQuestionDetails1",action:"click"},{selector:".add-question[style]",action:"click"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"p0"}},{selector:".as-question-editor-back"},{selector:".add-question[style]",action:"click"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"p1"}},{selector:".as-question-editor-back"},{selector:".add-question[style]",action:"click"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"p2"}},{selector:".as-question-editor-back"}];window.recipe.PassageCreateRecipe=new window.recipe.Recipe(e)}(),function(){var e=[{selector:"#create-assessment-with-val"}],t=window.recipe.CreateAssessmentRecipe=new window.recipe.Recipe(e);t.start=function(){var e="#createAssessment/close?cm=assessment";Backbone.history.navigate(e),Backbone.history.loadUrl(e)}}(),function(){var e=[{selector:"span.lsm-create-btn:visible:eq(0)"},{selector:"#qtn-true-false-type",action:"click"}];window.recipe.OpenTFRecipe=new window.recipe.Recipe(e)}(),function(){var e=window.recipe.Recorder={isRecording:!1,startRecording:function(){this.steps=[],this.isRecording=!0},stopRecording:function(){return this.isRecording=!1,this.steps},addEvent:function(e){this.isRecording&&this.steps.push(e)}},t=function(e,t){var i=document.getElementsByTagName(e);return Array.prototype.indexOf.call(i,t)},i=function(i){var c=i.target,n=c.tagName,s=t(n,c),r={tagName:n,index:s,action:event.type};e.addEvent(r)},c=function(){window.addEventListener("message",function(e){if("FROM_REPEATIT"===e.data.type)switch(e.data.action){case"START_RECORDING":window.recipe.Recorder.startRecording();break;case"STOP_RECORDING":var t=window.recipe.Recorder.stopRecording(),i=window.recipe["RecordingRecipe-"+e.data.recordingCount]=new window.recipe.Recipe;i.steps=t}},!1);var e=document.body;e.addEventListener("click",i,!0)};c()}();