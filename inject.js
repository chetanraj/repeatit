!function(){window.recipe={},window.recipe.Recipe=function(e){this.start=function(){},this.stop=function(){},this.steps=e,this.wait=20};var e=function(e,t){var i=document.getElementsByTagName(e);return i[t]},t=function(e){return e&&"undefined"!==e?e="object"!=typeof e?JSON.parse(window.decodeURIComponent(e)):e:void 0};window.recipe.RecipePlayer=function(i,c){var n=0,a=0,r=function(c,n){if(n!=c.length)var o=setInterval(function(){var p=c[n];if("recipe"===p.type){clearInterval(o),a=0;var l=window.recipe[p.recipeId];"function"==typeof l.start&&l.start.call(l,t(p.params)),c.splice.apply(c,[n,1].concat(l.steps)),r(c,n)}else{var d=p.selector?$(p.selector):$(e(p.tagName,p.index));if(d.length>0)s(d,p.action,p.value),clearInterval(o),a=0,r(c,++n);else{console.log("Looking for "+p.selector+"  "+p.tagName+"   "+p.index),a++;var u=c.wait||i.wait;a>u&&(a=0,n--)}}},500)},s=function(e,t,i){if("function"==typeof t)t.call(e);else switch(t){case"input":e.val(window.recipe.utils.evaluate(i));break;case"redactor":e.redactor("set",window.recipe.utils.evaluate(i));break;default:e.click()}};"function"==typeof i.start&&i.start.call(i,t(c)),r(i.steps.slice(),n),"function"==typeof i.stop&&i.stop.call(i)},window.recipe.utils={evaluate:function(e){return e=e.replace(/{datetime}/g,(new Date).toUTCString()),e=e.replace(/{date}/g,(new Date).toDateString()),e=e.replace(/{time}/g,(new Date).toTimeString())}}}(),function(){var e=[{selector:"#question-raw-content",action:"redactor"},{selector:".true-false-answer-select:eq(0)",action:"click"},{selector:"#saveQuestionDetails1",action:"click"}],t=window.recipe.FillTrueFalseRecipe=new window.recipe.Recipe(e);t.start=function(e){this.steps[0].value=e.questionTitle;var t=Math.round(Math.random());this.steps[1].selector=".true-false-answer-select:eq("+t+")"}}(),function(){var e=[{selector:"#login-email",action:"input"},{selector:"#login-password",action:"input"},{selector:"#signIn"}],t=window.recipe.LoginRecipe=new window.recipe.Recipe(e);t.start=function(e){this.steps[0].value=e.email,this.steps[1].value=e.password}}(),function(){var e=[{type:"recipe",recipeId:"CreateAssessmentRecipe"},{selector:"span.lsm-create-btn:first"},{selector:"#qtn-passage-type",wait:100},{selector:"#passage_title",action:"redactor",value:"Passage Title {datetime}"},{selector:".tab-title-text",action:function(){$(this).html("title...")}},{selector:"#question-edit-passage-text",action:"redactor",value:"Something Random {datetime}"},{selector:"#saveQuestionDetails1",action:"click"},{selector:".add-question[style]",action:"click"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"p0 {datetime}"}},{selector:".as-question-editor-back"},{selector:".add-question[style]",action:"click"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"p1 {datetime}"}},{selector:".as-question-editor-back"},{selector:".add-question[style]",action:"click"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"p2 {datetime}"}},{selector:".as-question-editor-back"}];window.recipe.PassageCreateRecipe=new window.recipe.Recipe(e)}(),function(){var e=[{type:"recipe",recipeId:"CreateAssessmentRecipe"},{type:"recipe",recipeId:"OpenTFRecipe"},{type:"recipe",recipeId:"FillTrueFalseRecipe",params:{questionTitle:"Creating Normal True False {datetime}"}}];window.recipe.TrueFalseCreateRecipe=new window.recipe.Recipe(e)}(),function(){var e=[{selector:"#create-assessment-with-val"}],t=window.recipe.CreateAssessmentRecipe=new window.recipe.Recipe(e);t.start=function(){var e="#createAssessment/close?cm=assessment";Backbone.history.navigate(e),Backbone.history.loadUrl(e)}}(),function(){var e=[{selector:"span.lsm-create-btn:visible:eq(0)"},{selector:"#qtn-true-false-type",action:"click"}];window.recipe.OpenTFRecipe=new window.recipe.Recipe(e)}(),function(){var e=window.recipe.Recorder={isRecording:!1,startRecording:function(){this.steps=[],this.isRecording=!0},stopRecording:function(){return this.isRecording=!1,this.steps},addEvent:function(e){this.isRecording&&this.steps.push(e)}},t=function(e,t){var i=document.getElementsByTagName(e);return Array.prototype.indexOf.call(i,t)},i=function(i){var c=i.target,n=c.tagName,a=t(n,c),r={tagName:n,index:a,action:event.type};e.addEvent(r)},c=function(){window.addEventListener("message",function(e){if("FROM_REPEATIT"===e.data.type)switch(e.data.action){case"START_RECORDING":window.recipe.Recorder.startRecording();break;case"STOP_RECORDING":var t=window.recipe.Recorder.stopRecording(),i=window.recipe["RecordingRecipe-"+e.data.recordingCount]=new window.recipe.Recipe;i.steps=t}},!1);var e=document.body;e.addEventListener("click",i,!0)};c()}();